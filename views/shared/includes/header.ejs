<header>
  <nav class="w-screen bg-opacity-20 relative mx-auto py-3 text-white z-30">
    <div class="flex items-center justify-between">
      <!-- Logo  -->
      <div class="z-30 w-48">
        <a href="/"><img src="/img/logo.svg" /></a>
      </div>
      <!-- Mid menu  -->
      <div class="flex justify-around items-center space-x-4 md:space-x-10 text-black text-xl">
        <a
          href="/products/search?type=XM"
          class="md:px-4 md:py-2 p-1 text-sm md:text-base rounded-3xl hover:bg-slate-500 hover:bg-opacity-50"
          >Xe số</a
        >
        <a
          href="/products/search?type=XG"
          class="md:px-4 md:py-2 p-1 text-sm md:text-base rounded-3xl hover:bg-slate-500 hover:bg-opacity-50"
          >Xe tay ga</a
        >
        <a
          href="/products/search?type=TC"
          class="md:px-4 md:py-2 p-1 text-sm md:text-base rounded-3xl hover:bg-slate-500 hover:bg-opacity-50"
          >Xe tay côn</a
        >
        <a
          href="/products/search?type=PL"
          class="md:px-4 md:py-2 p-1 text-sm md:text-base rounded-3xl hover:bg-slate-500 hover:bg-opacity-50"
          >Phân khối lớn</a
        >
      </div>
      <!-- Right menu  -->
      <div class="flex justify-between px-4 space-x-2">
        <a
          href="#"
          id="search-btn"
          class="w-14 rounded-full hover:bg-slate-500 hover:bg-opacity-50"
          ><img src="/img/magnifier.svg"
        /></a>
        <% if (locals.isAuth) { %>
          <a
          href="/cart"
          class="relative w-14 rounded-full hover:bg-slate-500 hover:bg-opacity-50"
          >
            <img src="/img/cart.svg"/>
            <div class="absolute top-0 -right-1 p-1 rounded-full bg-black text-white text-xs"><%= locals.cart.totalQuantity %></div>
          </a>
        <% } else { %>
          <a
          href="/login"
          class="relative w-14 rounded-full hover:bg-slate-500 hover:bg-opacity-50"
          >
            <img src="/img/cart.svg"/>
          </a>
        <% } %>
        <% if (locals.role >= 1) { %>
          <a
          href="/admin"
          class=" w-14 rounded-full hover:bg-slate-300 hover:bg-opacity-50"
          >
            <img src="/img/admin.svg"/>
          </a>
        <% } %>
        <% if (locals.isAuth) { %>
          <a
            href="/orders"
            class=" w-14 rounded-full hover:bg-slate-500 hover:bg-opacity-50"
            >
              <img src="/img/history.svg"/>
          </a>
            <form action="/logout" method="POST">
              <button class="flex items-center">
                <img src="/img/logout.svg" class="w-14 rounded-full hover:bg-slate-500 hover:bg-opacity-50">
              </button>
            </form>
        <% } else { %>
        <a
          href="/signup"
          class="w-14 rounded-full hover:bg-slate-500 hover:bg-opacity-50"
          ><img src="/img/user.svg"
        /></a>
        <% } %>
      </div>
    </div>
  </nav>
  <div id="backdrop" class="hidden fixed top-0 left-0 w-[100vw] h-[100vh] bg-black bg-opacity-70 z-30"></div>
  <form action="/products/search" method="GET" id="search-form" class="hidden w-2/3 absolute top-20 left-[50%] -translate-x-[50%] bg-white rounded p-4 border-b border-gray-300 z-50">
    <div class="flex items-center justify-evenly rounded py-1 px-3">
      <select name="type" class="mr-2 border border-gray-400 rounded-l-full p-3">
        <option value="">Tất cả</option>
        <option value="XM">Xe số</option>
        <option value="XG">Xe tay ga</option>
        <option value="TC">Xe tay côn</option>
        <option value="PL">Phân khối lớn</option>
      </select>
      <input type="text" name="name" placeholder="Tìm kiếm..." class="w-72 p-2 border-b border-gray-300">
      <button><img src="/img/magnifier-dark.svg" class="w-12 p-2 bg-black rounded"></button>
    </div>
    <div class="pl-12 mt-4">
      <input type="checkbox" id="advanced-search-checkbox">
      <label>Tìm kiếm nâng cao</label>
    </div>
    <div id="advanced-search" class="hidden">
      <div class="flex items-center justify-evenly pl-8 my-4">
        <div>
          <label>Giá từ</label>
          <input type="text" name="minPrice" pattern="[0-9]+" class="border border-gray-400 py-1 px-3 w-44" placeholder="Nhập...">
          <label>đến</label>
          <input type="text" name="maxPrice" pattern="[0-9]+" class="border border-gray-400 py-1 px-3 w-44" placeholder="Nhập...">
        </div>
        <div>
          <label>Phân khối</label>
          <select name="engine" class="ml-4 px-4 py-2 border border-gray-400">
            <option value="">Tất cả</option>
            <option value="A">Dưới 100cc</option>
            <option value="B">110cc đến 175cc</option>
            <option value="C">Trên 175cc</option>
          </select>
        </div>
      </div>
    </div>
  </form>
</header>
